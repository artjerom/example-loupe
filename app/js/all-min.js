$.fn.deepLoupe=function(){return this.each(function(){var e=$(this);dataImage=e.data("image"),dataBackImage=e.data("back-image"),dataSize=e.data("size"),e.addClass("deepLoupe").resize(function(){e.find(".data-image, .de-loupe img").css({width:e.width()})}).append("\n        <img class='data-image' src='"+dataImage+"'>\n        <div class='de-loupe'>\n          <img src='"+dataBackImage+"'>\n      ").hover(function(){e.find(".de-loupe").stop().fadeIn()},function(){e.find(".de-loupe").stop().fadeOut()}).find(".data-image").css({width:e.width()}).parent().find(".de-loupe").css({width:dataSize,height:dataSize}).find("img").css({position:"absolute",width:e.width()}),e.mousemove(function(a){var t={},i=e.offset();t={left:a.pageX-i.left-dataSize/1,top:a.pageY-i.top-dataSize/1},e.find(".de-loupe").css({top:t.top,left:t.left}).find("img").css({top:-t.top,left:-t.left,width:e.width()})}),$(window).resize(function(){$(".deepLoupe").resize()})})};